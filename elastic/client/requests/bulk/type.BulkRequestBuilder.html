<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="API documentation for the Rust `BulkRequestBuilder` type in crate `elastic`."><meta name="keywords" content="rust, rustlang, rust-lang, BulkRequestBuilder"><title>elastic::client::requests::bulk::BulkRequestBuilder - Rust</title><link rel="stylesheet" type="text/css" href="../../../../normalize.css"><link rel="stylesheet" type="text/css" href="../../../../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../../../../dark.css"><link rel="stylesheet" type="text/css" href="../../../../light.css" id="themeStyle"><script src="../../../../storage.js"></script></head><body class="rustdoc type"><!--[if lte IE 8]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu">&#9776;</div><p class='location'>Type Definition BulkRequestBuilder</p><div class="sidebar-elems"><div class="block items"><a class="sidebar-title" href="#methods">Methods</a><div class="sidebar-links"><a href="#method.ty">ty</a><a href="#method.index">index</a><a href="#method.response_index">response_index</a><a href="#method.response_ty">response_ty</a><a href="#method.response_id">response_id</a><a href="#method.errors_only">errors_only</a><a href="#method.push">push</a><a href="#method.extend">extend</a><a href="#method.timeout">timeout</a><a href="#method.body_size_bytes">body_size_bytes</a><a href="#method.build">build</a><a href="#method.send">send</a><a href="#method.send">send</a></div><a class="sidebar-title" href="#implementations">Trait Implementations</a><div class="sidebar-links"><a href="#impl-Extend%3CBulkOperation%3CTDocument%3E%3E">Extend&lt;BulkOperation&lt;TDocument&gt;&gt;</a></div></div><p class='location'><a href='../../../index.html'>elastic</a>::<wbr><a href='../../index.html'>client</a>::<wbr><a href='../index.html'>requests</a>::<wbr><a href='index.html'>bulk</a></p><script>window.sidebarCurrent = {name: 'BulkRequestBuilder', ty: 'type', relpath: ''};</script><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!"><img src="../../../../brush.svg" width="18" alt="Pick another theme!"></button><div id="theme-choices"></div></div><script src="../../../../theme.js"></script><nav class="sub"><form class="search-form js-only"><div class="search-container"><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><a id="settings-menu" href="../../../../settings.html"><img src="../../../../wheel.svg" width="18" alt="Change settings"></a></div></form></nav><section id="main" class="content"><h1 class='fqn'><span class='out-of-band'><span id='render-detail'><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class='inner'>&#x2212;</span>]</a></span><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#41' title='goto source code'>[src]</a></span><span class='in-band'>Type Definition <a href='../../../index.html'>elastic</a>::<wbr><a href='../../index.html'>client</a>::<wbr><a href='../index.html'>requests</a>::<wbr><a href='index.html'>bulk</a>::<wbr><a class="type" href=''>BulkRequestBuilder</a></span></h1><pre class='rust typedef'>type BulkRequestBuilder&lt;TSender, TBody, TResponse&gt; = <a class="struct" href="../../../../elastic/client/requests/struct.RequestBuilder.html" title="struct elastic::client::requests::RequestBuilder">RequestBuilder</a>&lt;TSender, BulkRequestInner&lt;TBody, TResponse&gt;&gt;;</pre><div class='docblock'><p>A <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/bulk.html">bulk request</a> builder that can be configured before sending.</p>
<p>Call <a href="../../struct.Client.html#bulk-request"><code>Client.bulk</code></a> to get a <code>BulkRequestBuilder</code>.
The <code>send</code> method will either send the request <a href="#send-synchronously">synchronously</a> or <a href="#send-asynchronously">asynchronously</a>, depending on the <code>Client</code> it was created from.</p>
<p>Call <a href="../../struct.Client.html#bulk-stream-request"><code>Client.bulk_stream</code></a> to get a <code>BulkRequestBuilder</code> that can be used to stream bulk operations asynchronously.</p>
</div><h2 id='methods' class='small-section-header'>Methods<a href='#methods' class='anchor'></a></h2><h3 id='impl' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;TSender, TBody, TResponse&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;TSender, TBody, TResponse&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TSender: <a class="trait" href="../../../../elastic/client/sender/trait.Sender.html" title="trait elastic::client::sender::Sender">Sender</a>,&nbsp;</span></code><a href='#impl' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#236-338' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='docblock'><h1 id="builder-methods" class="section-header"><a href="#builder-methods">Builder methods</a></h1>
<p>Configure a <code>BulkRequestBuilder</code> before sending it.</p>
</div><div class='impl-items'><h4 id='method.ty' class="method"><span id='ty.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.ty' class='fnname'>ty</a>&lt;I&gt;(self, ty: I) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../../../../elastic/client/requests/prelude/struct.Type.html" title="struct elastic::client::requests::prelude::Type">Type</a>&lt;'static&gt;&gt;,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#249-255' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Set the default type for the bulk request.</p>
<p>If an operation doesn't specify a type, then it will default to the supplied value here.</p>
<h1 id="deferred-errors" class="section-header"><a href="#deferred-errors">Deferred errors</a></h1>
<p>Calling <code>ty</code> without also calling <code>index</code> will result in an error when sending the request.</p>
</div><h4 id='method.index' class="method"><span id='index.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.index' class='fnname'>index</a>&lt;I&gt;(self, index: I) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;I: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../../../../elastic/client/requests/prelude/struct.Index.html" title="struct elastic::client::requests::prelude::Index">Index</a>&lt;'static&gt;&gt;,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#262-268' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Set the default index for the bulk request.</p>
<p>If an operation doesn't specify an index, then it will default to the supplied value here.</p>
</div><h4 id='method.response_index' class="method"><span id='response_index.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.response_index' class='fnname'>response_index</a>&lt;I&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self<br>) -&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;TSender, TBody, TResponse::WithNewIndex&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TResponse: ChangeIndex&lt;I&gt;,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#277-291' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Set the type used to deserialize the index field on the response.</p>
<p>Sometimes a bulk response will use the same index value many times.
To avoid allocating a lot of individual strings, the type used to deserialize the field can be changed.
<code>string_cache::DefaultAtom</code> or a custom <code>enum</code> can be effective ways to reduce allocations in large bulk responses.</p>
</div><h4 id='method.response_ty' class="method"><span id='response_ty.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.response_ty' class='fnname'>response_ty</a>&lt;I&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self<br>) -&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;TSender, TBody, TResponse::WithNewType&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TResponse: ChangeType&lt;I&gt;,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#300-314' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Set the type used to deserialize the type field on the response.</p>
<p>Sometimes a bulk response will use the same type value many times.
To avoid allocating a lot of individual strings, the type used to deserialize the field can be changed.
<code>string_cache::DefaultAtom</code> or a custom <code>enum</code> can be effective ways to reduce allocations in large bulk responses.</p>
</div><h4 id='method.response_id' class="method"><span id='response_id.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.response_id' class='fnname'>response_id</a>&lt;I&gt;(<br>&nbsp;&nbsp;&nbsp;&nbsp;self<br>) -&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;TSender, TBody, TResponse::WithNewId&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TResponse: ChangeId&lt;I&gt;,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#323-337' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Set the type used to deserialize the id field on the response.</p>
<p>It's less likely that id fields in bulk responses will be repeated, but they're probably short.
To avoid allocating a lot of individual strings, the type used to deserialize the field can be changed.
<code>inlinable_string::InlinableString</code> can be an effective way to recude allocation in large bulk responses.</p>
</div></div><h3 id='impl-1' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;TSender, TBody, TIndex, TType, TId&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;TSender, TBody, <a class="struct" href="../../../../elastic/client/responses/prelude/struct.BulkResponse.html" title="struct elastic::client::responses::prelude::BulkResponse">BulkResponse</a>&lt;TIndex, TType, TId&gt;&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TSender: <a class="trait" href="../../../../elastic/client/sender/trait.Sender.html" title="trait elastic::client::sender::Sender">Sender</a>,&nbsp;</span></code><a href='#impl-1' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#340-362' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.errors_only' class="method"><span id='errors_only.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.errors_only' class='fnname'>errors_only</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;self<br>) -&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;TSender, TBody, <a class="struct" href="../../../../elastic/client/responses/prelude/struct.BulkErrorsResponse.html" title="struct elastic::client::responses::prelude::BulkErrorsResponse">BulkErrorsResponse</a>&lt;TIndex, TType, TId&gt;&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#350-361' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Only deserialize failed bulk operations in the response.</p>
<p>Elasticsearch returns a response that's proportional in size to the number of operations in the request.
If you only care about failures then it can be more efficient to ignore the common case where operations succeed.</p>
</div></div><h3 id='impl-2' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;TSender, TBody, TResponse&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;TSender, TBody, TResponse&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TSender: <a class="trait" href="../../../../elastic/client/sender/trait.Sender.html" title="trait elastic::client::sender::Sender">Sender</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;TBody: <a class="trait" href="../../../../elastic/client/requests/bulk/trait.BulkBody.html" title="trait elastic::client::requests::bulk::BulkBody">BulkBody</a>,&nbsp;</span></code><a href='#impl-2' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#364-410' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.push' class="method"><span id='push.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.push' class='fnname'>push</a>&lt;TDocument, TOperation&gt;(self, op: TOperation) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TOperation: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../../../../elastic/client/requests/bulk/struct.BulkOperation.html" title="struct elastic::client::requests::bulk::BulkOperation">BulkOperation</a>&lt;TDocument&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;TDocument: <a class="trait" href="https://docs.rs/serde/1.0.80/serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a>,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#384-391' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Push an operation onto the bulk request.</p>
<h1 id="deferred-errors-1" class="section-header"><a href="#deferred-errors-1">Deferred errors</a></h1>
<p>If the document can't be serialized then sending the request will return an error.</p>
</div><h4 id='method.extend' class="method"><span id='extend.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.extend' class='fnname'>extend</a>&lt;TIter, TDocument&gt;(self, iter: TIter) -&gt; Self <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TIter: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.IntoIterator.html" title="trait core::iter::traits::IntoIterator">IntoIterator</a>&lt;Item = <a class="struct" href="../../../../elastic/client/requests/bulk/struct.BulkOperation.html" title="struct elastic::client::requests::bulk::BulkOperation">BulkOperation</a>&lt;TDocument&gt;&gt;,<br>&nbsp;&nbsp;&nbsp;&nbsp;TDocument: <a class="trait" href="https://docs.rs/serde/1.0.80/serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a>,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#400-409' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Push a collection of operations onto the bulk request.</p>
<h1 id="deferred-errors-2" class="section-header"><a href="#deferred-errors-2">Deferred errors</a></h1>
<p>If any documents can't be serialized then sending the request will return an error.</p>
</div></div><h3 id='impl-3' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;TDocument, TResponse&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;<a class="struct" href="../../../../elastic/client/sender/struct.AsyncSender.html" title="struct elastic::client::sender::AsyncSender">AsyncSender</a>, <a class="struct" href="../../../../elastic/client/requests/bulk/struct.Streamed.html" title="struct elastic::client::requests::bulk::Streamed">Streamed</a>&lt;TDocument&gt;, TResponse&gt;</code><a href='#impl-3' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#432-489' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='docblock'><h1 id="stream-builder-methods" class="section-header"><a href="#stream-builder-methods">Stream builder methods</a></h1>
<p>Configure a <code>SearchRequestBuilder</code> before sending it.</p>
</div><div class='impl-items'><h4 id='method.timeout' class="method"><span id='timeout.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.timeout' class='fnname'>timeout</a>(self, timeout: <a class="struct" href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>) -&gt; Self</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#440-447' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Specify a timeout for filling up the request buffer.</p>
<p>This parameter can be used to control the miminum frequency of bulk requests.
If the timeout expires before the buffer is full then a bulk request will be sent with whatever data was written.
The timeout isn't restarted when operations are pushed.</p>
</div><h4 id='method.body_size_bytes' class="method"><span id='body_size_bytes.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.body_size_bytes' class='fnname'>body_size_bytes</a>(self, body_size: <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.usize.html">usize</a>) -&gt; Self</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#455-462' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Specify a maximum request size in bytes.</p>
<p>This parameter can be used to control the maximum size of a single bulk request emitted.
Operations will be appended to the request until the <code>body_size</code> is reached.</p>
</div><h4 id='method.build' class="method"><span id='build.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.build' class='fnname'>build</a>(<br>&nbsp;&nbsp;&nbsp;&nbsp;self<br>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">(</a><a class="struct" href="../../../../elastic/client/requests/bulk/struct.BulkSender.html" title="struct elastic::client::requests::bulk::BulkSender">BulkSender</a>&lt;TDocument, TResponse&gt;, <a class="struct" href="../../../../elastic/client/requests/bulk/struct.BulkReceiver.html" title="struct elastic::client::requests::bulk::BulkReceiver">BulkReceiver</a>&lt;TResponse&gt;<a class="primitive" href="https://doc.rust-lang.org/nightly/std/primitive.tuple.html">)</a></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#476-488' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Create a channel for streaming bulk operations.</p>
<p>This will return a channel with a [<code>BulkSender</code>] and [<code>BulkReceiver</code>] pair.
Push operations into the sender.
Once an internal buffer is full, or a timeout expires then the bulk request will be sent.
Responses can be pulled by the receiver.</p>
<h1 id="examples" class="section-header"><a href="#examples">Examples</a></h1>
<blockquote>
<p>TODO</p>
</blockquote>
</div></div><h3 id='impl-4' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;TBody, TResponse&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;<a class="struct" href="../../../../elastic/client/sender/struct.SyncSender.html" title="struct elastic::client::sender::SyncSender">SyncSender</a>, TBody, TResponse&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TBody: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../../../../elastic/http/struct.SyncBody.html" title="struct elastic::http::SyncBody">SyncBody</a>&gt; + <a class="trait" href="../../../../elastic/client/requests/bulk/trait.BulkBody.html" title="trait elastic::client::requests::bulk::BulkBody">BulkBody</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;TResponse: <a class="trait" href="https://docs.rs/serde/1.0.80/serde/de/trait.DeserializeOwned.html" title="trait serde::de::DeserializeOwned">DeserializeOwned</a> + <a class="trait" href="../../../../elastic/client/responses/parse/trait.IsOk.html" title="trait elastic::client::responses::parse::IsOk">IsOk</a> + 'static,&nbsp;</span></code><a href='#impl-4' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#519-582' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='docblock'><h1 id="send-synchronously" class="section-header"><a href="#send-synchronously">Send synchronously</a></h1></div><div class='impl-items'><h4 id='method.send' class="method"><span id='send.v' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.send' class='fnname'>send</a>(self) -&gt; <a class="enum" href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" title="enum core::result::Result">Result</a>&lt;TResponse, <a class="enum" href="../../../../elastic/error/enum.Error.html" title="enum elastic::error::Error">Error</a>&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#575-581' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Send a <code>BulkRequestBuilder</code> synchronously using a <a href="../../type.SyncClient.html"><code>SyncClient</code></a>.</p>
<p>This will block the current thread until a response arrives and is deserialised.</p>
<h1 id="examples-1" class="section-header"><a href="#examples-1">Examples</a></h1>
<p>Send a bulk request to index some documents:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">ops</span> <span class="op">=</span> (<span class="number">0</span>..<span class="number">1000</span>)
    .<span class="ident">into_iter</span>()
    .<span class="ident">map</span>(<span class="op">|</span><span class="ident">i</span><span class="op">|</span> <span class="ident">bulk_index</span>(<span class="ident">MyType</span> {
            <span class="ident">id</span>: <span class="ident">i</span>,
            <span class="ident">title</span>: <span class="string">&quot;some string value&quot;</span>.<span class="ident">into</span>()
        })
        .<span class="ident">id</span>(<span class="ident">i</span>));

<span class="kw">let</span> <span class="ident">response</span> <span class="op">=</span> <span class="ident">client</span>.<span class="ident">bulk</span>()
                     .<span class="ident">index</span>(<span class="string">&quot;myindex&quot;</span>)
                     .<span class="ident">ty</span>(<span class="ident">MyType</span>::<span class="ident">name</span>())
                     .<span class="ident">extend</span>(<span class="ident">ops</span>)
                     .<span class="ident">send</span>()<span class="question-mark">?</span>;

<span class="kw">for</span> <span class="ident">op</span> <span class="kw">in</span> <span class="ident">response</span> {
    <span class="kw">match</span> <span class="ident">op</span> {
        <span class="prelude-val">Ok</span>(<span class="ident">op</span>) <span class="op">=&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;ok: {:?}&quot;</span>, <span class="ident">op</span>),
        <span class="prelude-val">Err</span>(<span class="ident">op</span>) <span class="op">=&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;err: {:?}&quot;</span>, <span class="ident">op</span>),
    }
}</pre></div>
</div></div><h3 id='impl-5' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;TBody, TResponse&gt; <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;<a class="struct" href="../../../../elastic/client/sender/struct.AsyncSender.html" title="struct elastic::client::sender::AsyncSender">AsyncSender</a>, TBody, TResponse&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TBody: <a class="trait" href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" title="trait core::convert::Into">Into</a>&lt;<a class="struct" href="../../../../elastic/http/struct.AsyncBody.html" title="struct elastic::http::AsyncBody">AsyncBody</a>&gt; + <a class="trait" href="../../../../elastic/client/requests/bulk/trait.BulkBody.html" title="trait elastic::client::requests::bulk::BulkBody">BulkBody</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,<br>&nbsp;&nbsp;&nbsp;&nbsp;TResponse: <a class="trait" href="https://docs.rs/serde/1.0.80/serde/de/trait.DeserializeOwned.html" title="trait serde::de::DeserializeOwned">DeserializeOwned</a> + <a class="trait" href="../../../../elastic/client/responses/parse/trait.IsOk.html" title="trait elastic::client::responses::parse::IsOk">IsOk</a> + <a class="trait" href="https://doc.rust-lang.org/nightly/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a> + 'static,&nbsp;</span></code><a href='#impl-5' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#587-662' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='docblock'><h1 id="send-asynchronously" class="section-header"><a href="#send-asynchronously">Send asynchronously</a></h1></div><div class='impl-items'><h4 id='method.send-1' class="method"><span id='send.v-1' class='invisible'><table class='table-display'><tbody><tr><td><code>pub fn <a href='#method.send-1' class='fnname'>send</a>(self) -&gt; <a class="struct" href="../../../../elastic/client/requests/bulk/struct.Pending.html" title="struct elastic::client::requests::bulk::Pending">Pending</a>&lt;TResponse&gt;</code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#649-661' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock'><p>Send a <code>BulkRequestBuilder</code> asynchronously using an <a href="../../type.AsyncClient.html"><code>AsyncClient</code></a>.</p>
<p>This will return a future that will resolve to the deserialised search response.</p>
<h1 id="examples-2" class="section-header"><a href="#examples-2">Examples</a></h1>
<p>Send a bulk request to index some documents:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">let</span> <span class="ident">ops</span> <span class="op">=</span> (<span class="number">0</span>..<span class="number">1000</span>)
    .<span class="ident">into_iter</span>()
    .<span class="ident">map</span>(<span class="op">|</span><span class="ident">i</span><span class="op">|</span> <span class="ident">bulk_index</span>(<span class="ident">MyType</span> {
            <span class="ident">id</span>: <span class="ident">i</span>,
            <span class="ident">title</span>: <span class="string">&quot;some string value&quot;</span>.<span class="ident">into</span>()
        })
        .<span class="ident">id</span>(<span class="ident">i</span>));

<span class="kw">let</span> <span class="ident">future</span> <span class="op">=</span> <span class="ident">client</span>.<span class="ident">bulk</span>()
                     .<span class="ident">index</span>(<span class="string">&quot;myindex&quot;</span>)
                     .<span class="ident">ty</span>(<span class="ident">MyType</span>::<span class="ident">name</span>())
                     .<span class="ident">extend</span>(<span class="ident">ops</span>)
                     .<span class="ident">send</span>();

<span class="ident">future</span>.<span class="ident">and_then</span>(<span class="op">|</span><span class="ident">response</span><span class="op">|</span> {
    <span class="kw">for</span> <span class="ident">op</span> <span class="kw">in</span> <span class="ident">response</span> {
        <span class="kw">match</span> <span class="ident">op</span> {
            <span class="prelude-val">Ok</span>(<span class="ident">op</span>) <span class="op">=&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;ok: {:?}&quot;</span>, <span class="ident">op</span>),
            <span class="prelude-val">Err</span>(<span class="ident">op</span>) <span class="op">=&gt;</span> <span class="macro">println</span><span class="macro">!</span>(<span class="string">&quot;err: {:?}&quot;</span>, <span class="ident">op</span>),
        }
    }

    <span class="prelude-val">Ok</span>(())
});</pre></div>
</div></div><h2 id='implementations' class='small-section-header'>Trait Implementations<a href='#implementations' class='anchor'></a></h2><div id='implementations-list'><h3 id='impl-Extend%3CBulkOperation%3CTDocument%3E%3E' class='impl'><span class='in-band'><table class='table-display'><tbody><tr><td><code>impl&lt;TSender, TBody, TDocument, TResponse&gt; <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html" title="trait core::iter::traits::Extend">Extend</a>&lt;<a class="struct" href="../../../../elastic/client/requests/bulk/struct.BulkOperation.html" title="struct elastic::client::requests::bulk::BulkOperation">BulkOperation</a>&lt;TDocument&gt;&gt; for <a class="type" href="../../../../elastic/client/requests/bulk/type.BulkRequestBuilder.html" title="type elastic::client::requests::bulk::BulkRequestBuilder">BulkRequestBuilder</a>&lt;TSender, TBody, TResponse&gt; <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;TSender: <a class="trait" href="../../../../elastic/client/sender/trait.Sender.html" title="trait elastic::client::sender::Sender">Sender</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;TBody: <a class="trait" href="../../../../elastic/client/requests/bulk/trait.BulkBody.html" title="trait elastic::client::requests::bulk::BulkBody">BulkBody</a>,<br>&nbsp;&nbsp;&nbsp;&nbsp;TDocument: <a class="trait" href="https://docs.rs/serde/1.0.80/serde/ser/trait.Serialize.html" title="trait serde::ser::Serialize">Serialize</a>,&nbsp;</span></code><a href='#impl-Extend%3CBulkOperation%3CTDocument%3E%3E' class='anchor'></a></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#412-425' title='goto source code'>[src]</a></span></td></tr></tbody></table></h3><div class='impl-items'><h4 id='method.extend-1' class="method hidden"><span id='extend.v-1' class='invisible'><table class='table-display'><tbody><tr><td><code>fn <a href='https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html#tymethod.extend' class='fnname'>extend</a>&lt;T&gt;(&amp;mut self, iter: T) <span class="where fmt-newline">where<br>&nbsp;&nbsp;&nbsp;&nbsp;T: <a class="trait" href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.IntoIterator.html" title="trait core::iter::traits::IntoIterator">IntoIterator</a>&lt;Item = <a class="struct" href="../../../../elastic/client/requests/bulk/struct.BulkOperation.html" title="struct elastic::client::requests::bulk::BulkOperation">BulkOperation</a>&lt;TDocument&gt;&gt;,&nbsp;</span></code></span></td><td><span class='out-of-band'><div class='ghost'></div><a class='srclink' href='../../../../src/elastic/client/requests/bulk/mod.rs.html#418-424' title='goto source code'>[src]</a></td></tr></tbody></table></span></h4><div class='docblock hidden'><p>Extends a collection with the contents of an iterator. <a href="https://doc.rust-lang.org/nightly/core/iter/traits/trait.Extend.html#tymethod.extend">Read more</a></p>
</div></div></div></section><section id="search" class="content hidden"></section><section class="footer"></section><aside id="help" class="hidden"><div><h1 class="hidden">Help</h1><div class="shortcuts"><h2>Keyboard Shortcuts</h2><dl><dt><kbd>?</kbd></dt><dd>Show this help dialog</dd><dt><kbd>S</kbd></dt><dd>Focus the search field</dd><dt><kbd>↑</kbd></dt><dd>Move up in search results</dd><dt><kbd>↓</kbd></dt><dd>Move down in search results</dd><dt><kbd>↹</kbd></dt><dd>Switch tab</dd><dt><kbd>&#9166;</kbd></dt><dd>Go to active search result</dd><dt><kbd>+</kbd></dt><dd>Expand all sections</dd><dt><kbd>-</kbd></dt><dd>Collapse all sections</dd></dl></div><div class="infos"><h2>Search Tricks</h2><p>Prefix searches with a type followed by a colon (e.g. <code>fn:</code>) to restrict the search to a given type.</p><p>Accepted types are: <code>fn</code>, <code>mod</code>, <code>struct</code>, <code>enum</code>, <code>trait</code>, <code>type</code>, <code>macro</code>, and <code>const</code>.</p><p>Search functions by type signature (e.g. <code>vec -> usize</code> or <code>* -> vec</code>)</p><p>Search multiple things at once by splitting your query with comma (e.g. <code>str,u8</code> or <code>String,struct:Vec,test</code>)</p></div></div></aside><script>window.rootPath = "../../../../";window.currentCrate = "elastic";</script><script src="../../../../aliases.js"></script><script src="../../../../main.js"></script><script defer src="../../../../search-index.js"></script></body></html>